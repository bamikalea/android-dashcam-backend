/**
 * JT808 Protocol Constants
 * 中华人民共和国交通运输行业标准
 * 道路运输车辆卫星定位系统终端通信协议
 */

const JT808 = {
  // Terminal to Server Messages (Uplink)
  TERMINAL_GENERAL_RESPONSE: 0x0001,
  TERMINAL_HEARTBEAT: 0x0002,
  TERMINAL_LOGOUT: 0x0003,
  QUERY_SERVER_TIME: 0x0004, // 2019 new
  TERMINAL_RESEND_PACKET_REQUEST: 0x0005, // 2019 new
  TERMINAL_REGISTER: 0x0100,
  TERMINAL_AUTH: 0x0102, // 2019 modify
  QUERY_TERMINAL_PARAM_RESPONSE: 0x0104,
  QUERY_TERMINAL_ATTRIBUTE_RESPONSE: 0x0107,
  TERMINAL_UPGRADE_RESULT_NOTIFY: 0x0108,
  LOCATION_REPORT: 0x0200,
  LOCATION_QUERY_RESPONSE: 0x0201,
  EVENT_REPORT: 0x0301, // 2019 del
  QUESTION_RESPONSE: 0x0302, // 2019 del
  INFO_SUBSCRIPTION_CANCEL: 0x0303, // 2019 del
  VEHICLE_CONTROL_RESPONSE: 0x0500,
  QUERY_AREA_LINE_DATA_RESPONSE: 0x0608, // 2019 new
  DRIVING_RECORD_UPLOAD: 0x0700,
  ELECTRONIC_WAYBILL_REPORT: 0x0701,
  DRIVER_IDENTITY_COLLECTION_REPORT: 0x0702, // 2019 modify
  LOCATION_BATCH_UPLOAD: 0x0704,
  CAN_BUS_DATA_UPLOAD: 0x0705,
  MULTIMEDIA_EVENT_UPLOAD: 0x0800,
  MULTIMEDIA_DATA_UPLOAD: 0x0801,
  STORAGE_MULTIMEDIA_SEARCH_RESPONSE: 0x0802,
  CAMERA_SHOOT_RESPONSE: 0x0805,
  DATA_TRANSPARENT_UPLOAD: 0x0900,
  DATA_COMPRESSION_UPLOAD: 0x0901,
  TERMINAL_RSA_PUBLIC_KEY: 0x0A00,

  // Terminal Uplink Reserved
  TERMINAL_UPLINK_RESERVED_START: 0x0F00,
  TERMINAL_UPLINK_RESERVED_END: 0x0FFF,

  // Server to Terminal Messages (Downlink)
  PLATFORM_GENERAL_RESPONSE: 0x8001,
  SERVER_RESEND_PACKET_REQUEST: 0x8003,
  QUERY_SERVER_TIME_RESPONSE: 0x8004, // 2019 new
  TERMINAL_REGISTER_RESPONSE: 0x8100,
  SET_TERMINAL_PARAM: 0x8103,
  QUERY_TERMINAL_PARAM: 0x8104,
  TERMINAL_CONTROL: 0x8105,
  QUERY_SPECIFIC_TERMINAL_PARAM: 0x8106,
  QUERY_TERMINAL_ATTRIBUTE: 0x8107,
  SEND_TERMINAL_UPGRADE_PACKAGE: 0x8108,
  LOCATION_QUERY: 0x8201,
  TEMPORARY_LOCATION_TRACKING_CONTROL: 0x8202,
  MANUAL_CONFIRM_ALARM: 0x8203,
  SERVER_LINK_DETECTION_REQUEST: 0x8204, // 2019 new
  TEXT_MESSAGE_SEND: 0x8300, // 2019 modify
  EVENT_SETTING: 0x8301, // 2019 del
  QUESTION_SEND: 0x8302, // 2019 del
  INFO_SUBSCRIPTION_MENU_SETTING: 0x8303, // 2019 del
  INFO_SERVICE: 0x8304, // 2019 del
  PHONE_CALLBACK: 0x8400,
  SET_PHONEBOOK: 0x8401,
  VEHICLE_CONTROL: 0x8500, // 2019 modify
  SET_CIRCULAR_AREA: 0x8600, // 2019 modify
  DELETE_CIRCULAR_AREA: 0x8601,
  SET_RECTANGULAR_AREA: 0x8602, // 2019 modify
  DELETE_RECTANGULAR_AREA: 0x8603,
  SET_POLYGON_AREA: 0x8604, // 2019 modify
  DELETE_POLYGON_AREA: 0x8605,
  SET_ROUTE: 0x8606,
  DELETE_ROUTE: 0x8607,
  QUERY_AREA_LINE_DATA: 0x8608, // 2019 new
  DRIVING_RECORD_DATA_COLLECTION: 0x8700,
  DRIVING_RECORD_PARAM_DOWNLOAD: 0x8701,
  REQUEST_DRIVER_IDENTITY_INFO: 0x8702,
  MULTIMEDIA_DATA_UPLOAD_RESPONSE: 0x8800,
  CAMERA_SHOOT_COMMAND: 0x8801,
  STORAGE_MULTIMEDIA_SEARCH: 0x8802,
  STORAGE_MULTIMEDIA_UPLOAD: 0x8803,
  RECORDING_START_COMMAND: 0x8804,
  SINGLE_STORAGE_MULTIMEDIA_SEARCH_UPLOAD: 0x8805,
  DATA_TRANSPARENT_DOWNLOAD: 0x8900,
  PLATFORM_RSA_PUBLIC_KEY: 0x8A00,

  // Server Downlink Reserved
  SERVER_DOWNLINK_RESERVED_START: 0x8F00,
  SERVER_DOWNLINK_RESERVED_END: 0x8FFF,

  // Custom Messages
  VENDOR_CUSTOM_UPLINK_START: 0xE000,
  VENDOR_CUSTOM_UPLINK_END: 0xEFFF, // 2019 new
  VENDOR_CUSTOM_DOWNLINK_START: 0xF000,
  VENDOR_CUSTOM_DOWNLINK_END: 0xFFFF // 2019 new
};

// Protocol Versions
const PROTOCOL_VERSIONS = {
  V2011: 0,
  V2013: 1,
  V2019: 2
};

// Response Codes
const RESPONSE_CODES = {
  SUCCESS: 0x00,
  FAILURE: 0x01,
  TERMINAL_NOT_FOUND: 0x02,
  TERMINAL_ALREADY_REGISTERED: 0x03,
  AUTH_FAILED: 0x04,
  PARAM_ERROR: 0x05,
  VERSION_NOT_SUPPORTED: 0x06
};

// Alarm Types
const ALARM_TYPES = {
  EMERGENCY_ALARM: 0x00000001,
  OVERSPEED_ALARM: 0x00000002,
  FATIGUE_DRIVING_ALARM: 0x00000004,
  DANGEROUS_WARNING: 0x00000008,
  GNSS_MODULE_FAULT: 0x00000010,
  GNSS_ANTENNA_FAULT: 0x00000020,
  GNSS_ANTENNA_SHORT: 0x00000040,
  POWER_UNDERVOLTAGE: 0x00000080,
  POWER_FAILURE: 0x00000100,
  LCD_FAULT: 0x00000200,
  TTS_MODULE_FAULT: 0x00000400,
  CAMERA_FAULT: 0x00000800,
  VEHICLE_FAULT: 0x00001000,
  OVERTIME_PARKING: 0x00002000,
  IN_OUT_AREA: 0x00004000,
  IN_OUT_ROUTE: 0x00008000,
  ROUTE_DEVIATION: 0x00010000,
  VSS_FAULT: 0x00020000,
  OIL_ABNORMAL: 0x00040000,
  VEHICLE_THEFT: 0x00080000,
  ILLEGAL_IGNITION: 0x00100000,
  ILLEGAL_MOVEMENT: 0x00200000,
  COLLISION_WARNING: 0x00400000,
  ROLLOVER_WARNING: 0x00800000,
  ILLEGAL_DISASSEMBLY: 0x01000000,
  VEHICLE_ABNORMAL: 0x02000000,
  DRIVER_ABNORMAL: 0x04000000,
  EMERGENCY_ALARM_2019: 0x08000000,
  OVERSPEED_ALARM_2019: 0x10000000,
  FATIGUE_DRIVING_ALARM_2019: 0x20000000,
  DANGEROUS_WARNING_2019: 0x40000000,
  GNSS_FAULT_2019: 0x80000000
};

// Status Types
const STATUS_TYPES = {
  ACC_STATUS: 0x00000001,
  LOCATION_STATUS: 0x00000002,
  LATITUDE_TYPE: 0x00000004,
  LONGITUDE_TYPE: 0x00000008,
  OPERATION_STATUS: 0x00000010,
  ENCRYPTION_STATUS: 0x00000020,
  RESERVED_1: 0x00000040,
  RESERVED_2: 0x00000080,
  RESERVED_3: 0x00000100,
  RESERVED_4: 0x00000200,
  RESERVED_5: 0x00000400,
  RESERVED_6: 0x00000800,
  RESERVED_7: 0x00001000,
  RESERVED_8: 0x00002000,
  RESERVED_9: 0x00004000,
  RESERVED_10: 0x00008000,
  RESERVED_11: 0x00010000,
  RESERVED_12: 0x00020000,
  RESERVED_13: 0x00040000,
  RESERVED_14: 0x00080000,
  RESERVED_15: 0x00100000,
  RESERVED_16: 0x00200000,
  RESERVED_17: 0x00400000,
  RESERVED_18: 0x00800000,
  RESERVED_19: 0x01000000,
  RESERVED_20: 0x02000000,
  RESERVED_21: 0x04000000,
  RESERVED_22: 0x08000000,
  RESERVED_23: 0x10000000,
  RESERVED_24: 0x20000000,
  RESERVED_25: 0x40000000,
  RESERVED_26: 0x80000000
};

// Plate Colors
const PLATE_COLORS = {
  NO_PLATE: 0,
  BLUE: 1,
  YELLOW: 2,
  BLACK: 3,
  WHITE: 4,
  OTHER: 9
};

module.exports = {
  JT808,
  PROTOCOL_VERSIONS,
  RESPONSE_CODES,
  ALARM_TYPES,
  STATUS_TYPES,
  PLATE_COLORS
}; 